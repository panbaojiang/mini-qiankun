user nginx; # 用户
worker_processes auto; # 工作进程数
error_log /var/log/nginx/error.log notice; # 错误日志
pid /var/run/nginx.pid; # 进程ID

events {
    worker_connections 1024; # 连接数
}

http {
    include /etc/nginx/mime.types; # 包含mime类型
    default_type application/octet-stream; # 默认类型

    log_format main '$remote_addr - $remote_user [$time_local] "$request" ' # 日志格式
                    '$status $body_bytes_sent "$http_referer" '
                    '"$http_user_agent" "$http_x_forwarded_for"';

    access_log /var/log/nginx/access.log main; # 访问日志

    sendfile on; # 发送文件
    tcp_nopush on; # 推送
    tcp_nodelay on; # 延迟
    keepalive_timeout 65; # 保持连接超时时间
    types_hash_max_size 2048; # 类型哈希最大大小

    # Gzip压缩
    gzip on; # 开启Gzip压缩
    gzip_vary on; # 启用vary头
    gzip_min_length 1024; # 最小长度
    gzip_proxied any; # 代理
    gzip_comp_level 6; # 压缩级别
    gzip_types # 压缩类型
        text/plain
        text/css
        text/xml
        text/javascript
        application/json
        application/javascript
        application/xml+rss
        application/atom+xml
        image/svg+xml;

    # 包含其他配置文件
    include /etc/nginx/conf.d/*.conf;
}
